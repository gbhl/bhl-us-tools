// ------------------------------------------------------------------------------
// <auto-generated>
//     This code was generated by a tool.
//     Runtime Version: 14.0.0.0
//  
//     Changes to this file may cause incorrect behavior and will be lost if
//     the code is regenerated.
// </auto-generated>
// ------------------------------------------------------------------------------
namespace DALCodeGen.sql
{
    using System.Linq;
    using System.Text;
    using System.Collections.Generic;
    using System;
    
    /// <summary>
    /// Class to produce the template output
    /// </summary>
    
    #line 1 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
    [global::System.CodeDom.Compiler.GeneratedCodeAttribute("Microsoft.VisualStudio.TextTemplating", "14.0.0.0")]
    public partial class DAL : DALBase
    {
#line hidden
        /// <summary>
        /// Create the template output
        /// </summary>
        public virtual string TransformText()
        {
            this.Write("\r\n");
            
            #line 8 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
 
renderDAL(this._objectSchema, this._objectName, this._objectNameClean, this._className, this._classNamespace, this._dalNamespace, this._interfaceName, this._connectionKey, this._columns);

            
            #line default
            #line hidden
            this.Write("\r\n");
            return this.GenerationEnvironment.ToString();
        }
        
        #line 12 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"

private void renderDAL(string objectSchema, string objectName, string objectNameClean, string className, string classNamespace, string dalNamespace, string interfaceName, string connectionKey, List<DBColumn> columns)
{
	DateTime generated = DateTime.Now;

	string insertProcName = string.Format("{0}InsertAuto", objectNameClean);
	string updateProcName = string.Format("{0}UpdateAuto", objectNameClean);
	string deleteProcName = string.Format("{0}DeleteAuto", objectNameClean);
	string selectProcName = string.Format("{0}SelectAuto", objectNameClean);
	string manageProcName = string.Format("{0}ManageAuto", objectNameClean);
		
	string insertParmsString;
	string deleteParmsString;
	string updateParmsString;
		
	string interfaceString = string.Empty;
	if (!string.IsNullOrWhiteSpace(interfaceName)) interfaceString = string.Format(": {0}", interfaceName);

        
        #line default
        #line hidden
        
        #line 29 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write("// Generated ");

        
        #line default
        #line hidden
        
        #line 30 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(generated.ToString()));

        
        #line default
        #line hidden
        
        #line 30 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write("\r\n// Do not modify the contents of this code file.\r\n// This is part of a data acc" +
        "ess layer. \r\n// This partial class ");

        
        #line default
        #line hidden
        
        #line 33 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(className));

        
        #line default
        #line hidden
        
        #line 33 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(" is based upon ");

        
        #line default
        #line hidden
        
        #line 33 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(objectSchema));

        
        #line default
        #line hidden
        
        #line 33 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(".");

        
        #line default
        #line hidden
        
        #line 33 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(objectName));

        
        #line default
        #line hidden
        
        #line 33 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(".\r\n\r\n#region How To Implement\r\n\r\n// To implement, create another code file as out" +
        "lined in the following example.\r\n// The code file you create must be in the same" +
        " project as this code file.\r\n// Example:\r\n// using System;\r\n//\r\n// namespace ");

        
        #line default
        #line hidden
        
        #line 42 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(dalNamespace));

        
        #line default
        #line hidden
        
        #line 42 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write("\r\n// {\r\n// \t\tpublic partial class ");

        
        #line default
        #line hidden
        
        #line 44 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(className));

        
        #line default
        #line hidden
        
        #line 44 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write("\r\n//\t\t{\r\n//\t\t}\r\n// }\r\n\r\n#endregion How To Implement\r\n\r\n#region using\r\n\r\nusing Sys" +
        "tem;\r\nusing System.Data;\r\nusing System.Data.SqlClient;\r\nusing CustomDataAccess;\r" +
        "\nusing ");

        
        #line default
        #line hidden
        
        #line 57 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(classNamespace));

        
        #line default
        #line hidden
        
        #line 57 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(";\r\n\r\n#endregion using\r\n\r\nnamespace ");

        
        #line default
        #line hidden
        
        #line 61 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(dalNamespace));

        
        #line default
        #line hidden
        
        #line 61 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write("\r\n{\r\n\tpartial class ");

        
        #line default
        #line hidden
        
        #line 63 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(className));

        
        #line default
        #line hidden
        
        #line 63 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(" ");

        
        #line default
        #line hidden
        
        #line 63 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(interfaceString));

        
        #line default
        #line hidden
        
        #line 63 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write("\r\n\t{\r\n");

        
        #line default
        #line hidden
        
        #line 65 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
 renderDalSelect(columns, objectSchema, objectNameClean, selectProcName, connectionKey); 
        
        #line default
        #line hidden
        
        #line 66 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
 insertParmsString = renderDalInsert(columns, objectSchema, objectNameClean, insertProcName, connectionKey); 
        
        #line default
        #line hidden
        
        #line 67 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
 deleteParmsString = renderDalDelete(columns, objectSchema, objectNameClean, deleteProcName, connectionKey); 
        
        #line default
        #line hidden
        
        #line 68 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
 updateParmsString = renderDalUpdate(columns, objectSchema, objectNameClean, updateProcName, connectionKey); 
        
        #line default
        #line hidden
        
        #line 69 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
 renderCsDalManage(objectSchema, objectNameClean, manageProcName, insertProcName, insertParmsString, deleteProcName, deleteParmsString, updateProcName, updateParmsString, connectionKey); 
        
        #line default
        #line hidden
        
        #line 69 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write("\t}\t\r\n}\r\n");

        
        #line default
        #line hidden
        
        #line 72 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
	
}

        
        #line default
        #line hidden
        
        #line 76 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"

	private void renderDalSelect(List<DBColumn> columns, string objectSchema, string objectName, string functionName, string connectionKey)
	{
		StringBuilder commandParmsSb = new StringBuilder();
		StringBuilder functionParmsSb = new StringBuilder();
		StringBuilder functionSb = new StringBuilder();
		StringBuilder docSb = new StringBuilder();
		int x = 0;
		int y = 0;
		foreach (DBColumn column in columns)
		{
			string size = "null";
			if (column.CharacterMaxLength > 0) size = column.CharacterMaxLength.ToString();
			
			if (column.IsInPrimaryKey)
			{
				if (x > 0) commandParmsSb.AppendFormat(",\r\n\t\t\t\t\t");

				commandParmsSb.AppendFormat("CustomSqlHelper.CreateInputParameter(\"{0}\", {1}, {2}, {3}, {4})", 
					column.Name, column.DataProviderType, size, 
					column.IsNullable.ToString().ToLower(), column.ParamName());
					
				docSb.AppendFormat("\r\n\t\t/// <param name=\"{0}\"></param>", column.ParamName());
				
				x++;
							
				if (y > 0)
				{
					functionParmsSb.AppendFormat(",\r\n\t\t\t");
					functionSb.Append(", " );
				}

				functionParmsSb.AppendFormat("{0} {1}",  column.Type(), column.ParamName());
				functionSb.Append( column.ParamName() );
				y++;
			}			
		}
		
		string commandParmsString = commandParmsSb.ToString();
		string functionParmsString = functionParmsSb.ToString();
		string functionString = functionSb.ToString();
		string docString = docSb.ToString();
		
		commandParmsSb = null;
		functionParmsSb = null;
		functionSb = null;
		docSb = null;
		

        
        #line default
        #line hidden
        
        #line 124 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(" \t\t#region ===== SELECT =====\r\n\r\n\t\t/// <summary>\r\n\t\t/// Select values from ");

        
        #line default
        #line hidden
        
        #line 127 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(objectSchema));

        
        #line default
        #line hidden
        
        #line 127 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(".");

        
        #line default
        #line hidden
        
        #line 127 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(objectName));

        
        #line default
        #line hidden
        
        #line 127 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(" by primary key(s).\r\n\t\t/// </summary>\r\n\t\t/// <param name=\"sqlConnection\">Sql conn" +
        "ection or null.</param>\r\n\t\t/// <param name=\"sqlTransaction\">Sql transaction or n" +
        "ull.</param>");

        
        #line default
        #line hidden
        
        #line 130 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(docString));

        
        #line default
        #line hidden
        
        #line 130 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write("\r\n\t\t/// <returns>Object of type ");

        
        #line default
        #line hidden
        
        #line 131 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(objectName));

        
        #line default
        #line hidden
        
        #line 131 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(".</returns>\r\n\t\tpublic ");

        
        #line default
        #line hidden
        
        #line 132 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(objectName));

        
        #line default
        #line hidden
        
        #line 132 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(" ");

        
        #line default
        #line hidden
        
        #line 132 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(functionName));

        
        #line default
        #line hidden
        
        #line 132 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write("(\r\n\t\t\tSqlConnection sqlConnection, \r\n\t\t\tSqlTransaction sqlTransaction, \r\n\t\t\t");

        
        #line default
        #line hidden
        
        #line 135 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(functionParmsString));

        
        #line default
        #line hidden
        
        #line 135 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(")\r\n\t\t{\r\n\t\t\treturn ");

        
        #line default
        #line hidden
        
        #line 137 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(functionName));

        
        #line default
        #line hidden
        
        #line 137 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write("(\tsqlConnection, sqlTransaction, \"");

        
        #line default
        #line hidden
        
        #line 137 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(connectionKey));

        
        #line default
        #line hidden
        
        #line 137 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write("\",\t");

        
        #line default
        #line hidden
        
        #line 137 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(functionString));

        
        #line default
        #line hidden
        
        #line 137 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(" );\r\n\t\t}\r\n\t\t\t\r\n\t\t/// <summary>\r\n\t\t/// Select values from ");

        
        #line default
        #line hidden
        
        #line 141 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(objectSchema));

        
        #line default
        #line hidden
        
        #line 141 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(".");

        
        #line default
        #line hidden
        
        #line 141 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(objectName));

        
        #line default
        #line hidden
        
        #line 141 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(@" by primary key(s).
		/// </summary>
		/// <param name=""sqlConnection"">Sql connection or null.</param>
		/// <param name=""sqlTransaction"">Sql transaction or null.</param>
		/// <param name=""connectionKeyName"">Connection key name located in config file.</param>");

        
        #line default
        #line hidden
        
        #line 145 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(docString));

        
        #line default
        #line hidden
        
        #line 145 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write("\r\n\t\t/// <returns>Object of type ");

        
        #line default
        #line hidden
        
        #line 146 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(objectName));

        
        #line default
        #line hidden
        
        #line 146 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(".</returns>\r\n\t\tpublic ");

        
        #line default
        #line hidden
        
        #line 147 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(objectName));

        
        #line default
        #line hidden
        
        #line 147 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(" ");

        
        #line default
        #line hidden
        
        #line 147 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(functionName));

        
        #line default
        #line hidden
        
        #line 147 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write("(\r\n\t\t\tSqlConnection sqlConnection, \r\n\t\t\tSqlTransaction sqlTransaction, \r\n\t\t\tstrin" +
        "g connectionKeyName,\r\n\t\t\t");

        
        #line default
        #line hidden
        
        #line 151 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(functionParmsString));

        
        #line default
        #line hidden
        
        #line 151 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(@" )
		{
			SqlConnection connection = CustomSqlHelper.CreateConnection(CustomSqlHelper.GetConnectionStringFromConnectionStrings( connectionKeyName ), sqlConnection);
			SqlTransaction transaction = sqlTransaction;
			
			using (SqlCommand command = CustomSqlHelper.CreateCommand(""");

        
        #line default
        #line hidden
        
        #line 156 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(functionName));

        
        #line default
        #line hidden
        
        #line 156 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write("\", connection, transaction, \r\n\t\t\t\t");

        
        #line default
        #line hidden
        
        #line 157 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(commandParmsString));

        
        #line default
        #line hidden
        
        #line 157 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write("))\r\n\t\t\t{\r\n\t\t\t\tusing (CustomSqlHelper<");

        
        #line default
        #line hidden
        
        #line 159 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(objectName));

        
        #line default
        #line hidden
        
        #line 159 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write("> helper = new CustomSqlHelper<");

        
        #line default
        #line hidden
        
        #line 159 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(objectName));

        
        #line default
        #line hidden
        
        #line 159 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(">())\r\n\t\t\t\t{\r\n\t\t\t\t\tCustomGenericList<");

        
        #line default
        #line hidden
        
        #line 161 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(objectName));

        
        #line default
        #line hidden
        
        #line 161 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write("> list = helper.ExecuteReader(command);\r\n\t\t\t\t\tif (list.Count > 0)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t" +
        "");

        
        #line default
        #line hidden
        
        #line 164 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(objectName));

        
        #line default
        #line hidden
        
        #line 164 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(" o = list[0];\r\n\t\t\t\t\t\tlist = null;\r\n\t\t\t\t\t\treturn o;\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse\r\n\t\t\t\t\t{\r\n\t\t" +
        "\t\t\t\treturn null;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\t/// <summary>\r\n\t\t/// Select va" +
        "lues from ");

        
        #line default
        #line hidden
        
        #line 177 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(objectSchema));

        
        #line default
        #line hidden
        
        #line 177 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(".");

        
        #line default
        #line hidden
        
        #line 177 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(objectName));

        
        #line default
        #line hidden
        
        #line 177 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(" by primary key(s).\r\n\t\t/// </summary>\r\n\t\t/// <param name=\"sqlConnection\">Sql conn" +
        "ection or null.</param>\r\n\t\t/// <param name=\"sqlTransaction\">Sql transaction or n" +
        "ull.</param>");

        
        #line default
        #line hidden
        
        #line 180 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(docString));

        
        #line default
        #line hidden
        
        #line 180 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write("\r\n\t\t/// <returns>CustomGenericList&lt;CustomDataRow&gt;</returns>\r\n\t\tpublic Custo" +
        "mGenericList<CustomDataRow> ");

        
        #line default
        #line hidden
        
        #line 182 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(functionName));

        
        #line default
        #line hidden
        
        #line 182 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write("Raw(\r\n\t\t\tSqlConnection sqlConnection, \r\n\t\t\tSqlTransaction sqlTransaction, \r\n\t\t\t");

        
        #line default
        #line hidden
        
        #line 185 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(functionParmsString));

        
        #line default
        #line hidden
        
        #line 185 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(")\r\n\t\t{\r\n\t\t\treturn ");

        
        #line default
        #line hidden
        
        #line 187 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(functionName));

        
        #line default
        #line hidden
        
        #line 187 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write("Raw( sqlConnection, sqlTransaction, \"");

        
        #line default
        #line hidden
        
        #line 187 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(connectionKey));

        
        #line default
        #line hidden
        
        #line 187 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write("\", ");

        
        #line default
        #line hidden
        
        #line 187 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(functionString));

        
        #line default
        #line hidden
        
        #line 187 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(" );\r\n\t\t}\r\n\t\t\r\n\t\t/// <summary>\r\n\t\t/// Select values from ");

        
        #line default
        #line hidden
        
        #line 191 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(objectSchema));

        
        #line default
        #line hidden
        
        #line 191 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(".");

        
        #line default
        #line hidden
        
        #line 191 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(objectName));

        
        #line default
        #line hidden
        
        #line 191 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(@" by primary key(s).
		/// </summary>
		/// <param name=""sqlConnection"">Sql connection or null.</param>
		/// <param name=""sqlTransaction"">Sql transaction or null.</param>
		/// <param name=""connectionKeyName"">Connection key name located in config file.</param>");

        
        #line default
        #line hidden
        
        #line 195 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(docString));

        
        #line default
        #line hidden
        
        #line 195 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write("\r\n\t\t/// <returns>CustomGenericList&lt;CustomDataRow&gt;</returns>\r\n\t\tpublic Custo" +
        "mGenericList<CustomDataRow> ");

        
        #line default
        #line hidden
        
        #line 197 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(functionName));

        
        #line default
        #line hidden
        
        #line 197 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write("Raw(\r\n\t\t\tSqlConnection sqlConnection, \r\n\t\t\tSqlTransaction sqlTransaction, \r\n\t\t\tst" +
        "ring connectionKeyName,\r\n\t\t\t");

        
        #line default
        #line hidden
        
        #line 201 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(functionParmsString));

        
        #line default
        #line hidden
        
        #line 201 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(@")
		{
			SqlConnection connection = CustomSqlHelper.CreateConnection(CustomSqlHelper.GetConnectionStringFromConnectionStrings(connectionKeyName), sqlConnection);
			SqlTransaction transaction = sqlTransaction;
			
			using (SqlCommand command = CustomSqlHelper.CreateCommand(""");

        
        #line default
        #line hidden
        
        #line 206 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(functionName));

        
        #line default
        #line hidden
        
        #line 206 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write("\", connection, transaction,\r\n\t\t\t\t");

        
        #line default
        #line hidden
        
        #line 207 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(commandParmsString));

        
        #line default
        #line hidden
        
        #line 207 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write("))\r\n\t\t\t{\r\n\t\t\t\treturn CustomSqlHelper.ExecuteReaderAndReturnRows(command);\r\n\t\t\t}\r\n" +
        "\t\t}\r\n\t\t\r\n\t\t#endregion ===== SELECT =====\r\n\r\n");

        
        #line default
        #line hidden
        
        #line 215 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"

	}

        
        #line default
        #line hidden
        
        #line 219 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"

	private string renderDalInsert(List<DBColumn> columns, string objectSchema, string objectName, string functionName, string connectionKey)
	{
		StringBuilder commandParmsSb = new StringBuilder();
		StringBuilder functionParmsSb = new StringBuilder();
		StringBuilder functionSb = new StringBuilder();
		StringBuilder docSb = new StringBuilder();
		StringBuilder valueParmsSb = new StringBuilder();
		
		int x = 0;
		int y = 0;
		foreach (DBColumn column in columns)
		{
			if (!DataAccess.isModifiedDate(column) &&
				!DataAccess.isCreatedDate(column) &&
				!DataAccess.isAuthorityId(column) )
			{
				string size = "null";
				if (column.CharacterMaxLength > 0) size = column.CharacterMaxLength.ToString();
				
				if (column.IsAutoKey)
				{
					if (x > 0) commandParmsSb.AppendFormat(",\r\n\t\t\t\t\t");
	
					commandParmsSb.AppendFormat("CustomSqlHelper.CreateOutputParameter(\"{0}\", {1}, {2}, {3})", 
						column.Name, column.DataProviderType, size,
						column.IsNullable.ToString().ToLower());
					x++;
				}
				else if (column.IsComputed)
				{
				}
				else
				{
					if (x > 0) commandParmsSb.AppendFormat(",\r\n\t\t\t\t\t");
	
					commandParmsSb.AppendFormat("CustomSqlHelper.CreateInputParameter(\"{0}\", {1}, {2}, {3}, {4})", 
						column.Name, column.DataProviderType, size, 
						column.IsNullable.ToString().ToLower(), column.ParamName());
						
					docSb.AppendFormat("\r\n\t\t/// <param name=\"{0}\"></param>", column.ParamName());
					
					x++;
					
					if (y > 0)
					{
						functionParmsSb.AppendFormat(",\r\n\t\t\t");
						functionSb.Append( ", " );
						valueParmsSb.AppendFormat(",\r\n\t\t\t\t");
					}
	
					functionParmsSb.AppendFormat("{0} {1}", column.Type(), column.ParamName());
					functionSb.Append( column.ParamName());					
					valueParmsSb.AppendFormat("value.{0}", column.Alias);
						
					y++;
				}
			}
		}
		
		commandParmsSb.AppendFormat(", \r\n\t\t\t\t\tCustomSqlHelper.CreateReturnValueParameter(\"ReturnCode\", SqlDbType.Int, null, false)");
		
		string commandParmsString = commandParmsSb.ToString();
		string functionParmsString = functionParmsSb.ToString();
		string functionString = functionSb.ToString();
		string docString = docSb.ToString();
		string valueParmsString = valueParmsSb.ToString();
		
		commandParmsSb = null;
		functionParmsSb = null;
		functionSb = null;
		docSb = null;
		valueParmsSb = null;
		

        
        #line default
        #line hidden
        
        #line 293 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(" \t\t#region ===== INSERT =====\r\n\r\n\t\t/// <summary>\r\n\t\t/// Insert values into ");

        
        #line default
        #line hidden
        
        #line 296 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(objectSchema));

        
        #line default
        #line hidden
        
        #line 296 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(".");

        
        #line default
        #line hidden
        
        #line 296 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(objectName));

        
        #line default
        #line hidden
        
        #line 296 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(".\r\n\t\t/// </summary>\r\n\t\t/// <param name=\"sqlConnection\">Sql connection or null.</p" +
        "aram>\r\n\t\t/// <param name=\"sqlTransaction\">Sql transaction or null.</param>");

        
        #line default
        #line hidden
        
        #line 299 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(docString));

        
        #line default
        #line hidden
        
        #line 299 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write("\r\n\t\t/// <returns>Object of type ");

        
        #line default
        #line hidden
        
        #line 300 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(objectName));

        
        #line default
        #line hidden
        
        #line 300 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(".</returns>\r\n\t\tpublic ");

        
        #line default
        #line hidden
        
        #line 301 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(objectName));

        
        #line default
        #line hidden
        
        #line 301 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(" ");

        
        #line default
        #line hidden
        
        #line 301 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(functionName));

        
        #line default
        #line hidden
        
        #line 301 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write("(\r\n\t\t\tSqlConnection sqlConnection, \r\n\t\t\tSqlTransaction sqlTransaction, \r\n\t\t\t");

        
        #line default
        #line hidden
        
        #line 304 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(functionParmsString));

        
        #line default
        #line hidden
        
        #line 304 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(")\r\n\t\t{\r\n\t\t\treturn ");

        
        #line default
        #line hidden
        
        #line 306 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(functionName));

        
        #line default
        #line hidden
        
        #line 306 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write("( sqlConnection, sqlTransaction, \"");

        
        #line default
        #line hidden
        
        #line 306 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(connectionKey));

        
        #line default
        #line hidden
        
        #line 306 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write("\", ");

        
        #line default
        #line hidden
        
        #line 306 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(functionString));

        
        #line default
        #line hidden
        
        #line 306 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(" );\r\n\t\t}\r\n\t\t\r\n\t\t/// <summary>\r\n\t\t/// Insert values into ");

        
        #line default
        #line hidden
        
        #line 310 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(objectSchema));

        
        #line default
        #line hidden
        
        #line 310 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(".");

        
        #line default
        #line hidden
        
        #line 310 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(objectName));

        
        #line default
        #line hidden
        
        #line 310 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(".\r\n\t\t/// </summary>\r\n\t\t/// <param name=\"sqlConnection\">Sql connection or null.</p" +
        "aram>\r\n\t\t/// <param name=\"sqlTransaction\">Sql transaction or null.</param>\r\n\t\t//" +
        "/ <param name=\"connectionKeyName\">Connection key name located in config file.</p" +
        "aram>");

        
        #line default
        #line hidden
        
        #line 314 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(docString));

        
        #line default
        #line hidden
        
        #line 314 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write("\r\n\t\t/// <returns>Object of type ");

        
        #line default
        #line hidden
        
        #line 315 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(objectName));

        
        #line default
        #line hidden
        
        #line 315 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(".</returns>\r\n\t\tpublic ");

        
        #line default
        #line hidden
        
        #line 316 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(objectName));

        
        #line default
        #line hidden
        
        #line 316 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(" ");

        
        #line default
        #line hidden
        
        #line 316 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(functionName));

        
        #line default
        #line hidden
        
        #line 316 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write("(\r\n\t\t\tSqlConnection sqlConnection, \r\n\t\t\tSqlTransaction sqlTransaction, \r\n\t\t\tstrin" +
        "g connectionKeyName,\r\n\t\t\t");

        
        #line default
        #line hidden
        
        #line 320 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(functionParmsString));

        
        #line default
        #line hidden
        
        #line 320 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(@")
		{
			SqlConnection connection = CustomSqlHelper.CreateConnection(CustomSqlHelper.GetConnectionStringFromConnectionStrings(connectionKeyName), sqlConnection);
			SqlTransaction transaction = sqlTransaction;
			
			using (SqlCommand command = CustomSqlHelper.CreateCommand(""");

        
        #line default
        #line hidden
        
        #line 325 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(functionName));

        
        #line default
        #line hidden
        
        #line 325 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write("\", connection, transaction, \r\n\t\t\t\t");

        
        #line default
        #line hidden
        
        #line 326 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(commandParmsString));

        
        #line default
        #line hidden
        
        #line 326 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write("))\r\n\t\t\t{\r\n\t\t\t\tusing (CustomSqlHelper<");

        
        #line default
        #line hidden
        
        #line 328 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(objectName));

        
        #line default
        #line hidden
        
        #line 328 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write("> helper = new CustomSqlHelper<");

        
        #line default
        #line hidden
        
        #line 328 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(objectName));

        
        #line default
        #line hidden
        
        #line 328 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(">())\r\n\t\t\t\t{\r\n\t\t\t\t\tCustomGenericList<");

        
        #line default
        #line hidden
        
        #line 330 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(objectName));

        
        #line default
        #line hidden
        
        #line 330 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write("> list = helper.ExecuteReader(command);\r\n\t\t\t\t\tif (list.Count > 0)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t" +
        "");

        
        #line default
        #line hidden
        
        #line 333 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(objectName));

        
        #line default
        #line hidden
        
        #line 333 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(" o = list[0];\r\n\t\t\t\t\t\tlist = null;\r\n\t\t\t\t\t\treturn o;\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse\r\n\t\t\t\t\t{\r\n\t\t" +
        "\t\t\t\treturn null;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t/// <summary>\r\n\t\t/// Insert valu" +
        "es into ");

        
        #line default
        #line hidden
        
        #line 346 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(objectSchema));

        
        #line default
        #line hidden
        
        #line 346 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(".");

        
        #line default
        #line hidden
        
        #line 346 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(objectName));

        
        #line default
        #line hidden
        
        #line 346 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(". Returns an object of type ");

        
        #line default
        #line hidden
        
        #line 346 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(objectName));

        
        #line default
        #line hidden
        
        #line 346 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(".\r\n\t\t/// </summary>\r\n\t\t/// <param name=\"sqlConnection\">Sql connection or null.</p" +
        "aram>\r\n\t\t/// <param name=\"sqlTransaction\">Sql transaction or null.</param>\r\n\t\t//" +
        "/ <param name=\"value\">Object of type ");

        
        #line default
        #line hidden
        
        #line 350 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(objectName));

        
        #line default
        #line hidden
        
        #line 350 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(".</param>\r\n\t\t/// <returns>Object of type ");

        
        #line default
        #line hidden
        
        #line 351 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(objectName));

        
        #line default
        #line hidden
        
        #line 351 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(".</returns>\r\n\t\tpublic ");

        
        #line default
        #line hidden
        
        #line 352 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(objectName));

        
        #line default
        #line hidden
        
        #line 352 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(" ");

        
        #line default
        #line hidden
        
        #line 352 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(functionName));

        
        #line default
        #line hidden
        
        #line 352 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write("(\r\n\t\t\tSqlConnection sqlConnection, \r\n\t\t\tSqlTransaction sqlTransaction, \r\n\t\t\t");

        
        #line default
        #line hidden
        
        #line 355 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(objectName));

        
        #line default
        #line hidden
        
        #line 355 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(" value)\r\n\t\t{\r\n\t\t\treturn ");

        
        #line default
        #line hidden
        
        #line 357 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(functionName));

        
        #line default
        #line hidden
        
        #line 357 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write("(sqlConnection, sqlTransaction, \"");

        
        #line default
        #line hidden
        
        #line 357 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(connectionKey));

        
        #line default
        #line hidden
        
        #line 357 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write("\", value);\r\n\t\t}\r\n\t\t\r\n\t\t/// <summary>\r\n\t\t/// Insert values into ");

        
        #line default
        #line hidden
        
        #line 361 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(objectSchema));

        
        #line default
        #line hidden
        
        #line 361 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(".");

        
        #line default
        #line hidden
        
        #line 361 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(objectName));

        
        #line default
        #line hidden
        
        #line 361 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(". Returns an object of type ");

        
        #line default
        #line hidden
        
        #line 361 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(objectName));

        
        #line default
        #line hidden
        
        #line 361 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(@".
		/// </summary>
		/// <param name=""sqlConnection"">Sql connection or null.</param>
		/// <param name=""sqlTransaction"">Sql transaction or null.</param>
		/// <param name=""connectionKeyName"">Connection key name located in config file.</param>
		/// <param name=""value"">Object of type ");

        
        #line default
        #line hidden
        
        #line 366 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(objectName));

        
        #line default
        #line hidden
        
        #line 366 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(".</param>\r\n\t\t/// <returns>Object of type ");

        
        #line default
        #line hidden
        
        #line 367 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(objectName));

        
        #line default
        #line hidden
        
        #line 367 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(".</returns>\r\n\t\tpublic ");

        
        #line default
        #line hidden
        
        #line 368 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(objectName));

        
        #line default
        #line hidden
        
        #line 368 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(" ");

        
        #line default
        #line hidden
        
        #line 368 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(functionName));

        
        #line default
        #line hidden
        
        #line 368 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write("(\r\n\t\t\tSqlConnection sqlConnection, \r\n\t\t\tSqlTransaction sqlTransaction, \r\n\t\t\tstrin" +
        "g connectionKeyName,\r\n\t\t\t");

        
        #line default
        #line hidden
        
        #line 372 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(objectName));

        
        #line default
        #line hidden
        
        #line 372 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(" value)\r\n\t\t{\r\n\t\t\treturn ");

        
        #line default
        #line hidden
        
        #line 374 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(functionName));

        
        #line default
        #line hidden
        
        #line 374 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write("(sqlConnection, sqlTransaction, connectionKeyName,\r\n\t\t\t\t");

        
        #line default
        #line hidden
        
        #line 375 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(valueParmsString));

        
        #line default
        #line hidden
        
        #line 375 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(");\r\n\t\t}\r\n\t\t\r\n\t\t#endregion ===== INSERT =====\r\n\r\n");

        
        #line default
        #line hidden
        
        #line 380 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"

		return valueParmsString;
	}

        
        #line default
        #line hidden
        
        #line 385 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"

	private string renderDalDelete(List<DBColumn> columns, string objectSchema, string objectName, string functionName, string connectionKey)
	{
		StringBuilder commandParmsSb = new StringBuilder();
		StringBuilder functionParmsSb = new StringBuilder();
		StringBuilder functionSb = new StringBuilder();
		StringBuilder valueParmsSb = new StringBuilder();
		StringBuilder docSb = new StringBuilder();
		int x = 0;
		foreach (DBColumn column in columns)
		{
			string size = "null";
			if (column.CharacterMaxLength > 0) size = column.CharacterMaxLength.ToString();
			
			if (column.IsInPrimaryKey)
			{
				if (x > 0)
				{
					commandParmsSb.AppendFormat(",\r\n\t\t\t\t\t");
					functionParmsSb.AppendFormat(",\r\n\t\t\t");
					functionSb.Append(", " );
					valueParmsSb.AppendFormat(",\r\n\t\t\t\t");
				}

				commandParmsSb.AppendFormat("CustomSqlHelper.CreateInputParameter(\"{0}\", {1}, {2}, {3}, {4})", 
					column.Name, column.DataProviderType, size, 
					column.IsNullable.ToString().ToLower(), column.ParamName());
				docSb.AppendFormat("\r\n\t\t/// <param name=\"{0}\"></param>", column.ParamName());
				functionParmsSb.AppendFormat("{0} {1}",  column.Type(), column.ParamName());
				functionSb.Append( column.ParamName());
				valueParmsSb.AppendFormat("value.{0}", column.Alias);
						
				x++;
			}
		}
		
		commandParmsSb.AppendFormat(", \r\n\t\t\t\t\tCustomSqlHelper.CreateReturnValueParameter(\"ReturnCode\", SqlDbType.Int, null, false)");
		
		string commandParmsString = commandParmsSb.ToString();
		string functionParmsString = functionParmsSb.ToString();
		string functionString = functionSb.ToString();
		string docString = docSb.ToString();
		string valueParmsString = valueParmsSb.ToString();
		
		commandParmsSb = null;
		functionParmsSb = null;
		functionSb = null;
		docSb = null;
		

        
        #line default
        #line hidden
        
        #line 434 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write("\t\t#region ===== DELETE =====\r\n\r\n\t\t/// <summary>\r\n\t\t/// Delete values from ");

        
        #line default
        #line hidden
        
        #line 437 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(objectSchema));

        
        #line default
        #line hidden
        
        #line 437 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(".");

        
        #line default
        #line hidden
        
        #line 437 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(objectName));

        
        #line default
        #line hidden
        
        #line 437 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(" by primary key(s).\r\n\t\t/// </summary>\r\n\t\t/// <param name=\"sqlConnection\">Sql conn" +
        "ection or null.</param>\r\n\t\t/// <param name=\"sqlTransaction\">Sql transaction or n" +
        "ull.</param>");

        
        #line default
        #line hidden
        
        #line 440 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(docString));

        
        #line default
        #line hidden
        
        #line 440 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write("\r\n\t\t/// <returns>true if successful otherwise false.</returns>\r\n\t\tpublic bool ");

        
        #line default
        #line hidden
        
        #line 442 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(functionName));

        
        #line default
        #line hidden
        
        #line 442 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write("(\r\n\t\t\tSqlConnection sqlConnection, \r\n\t\t\tSqlTransaction sqlTransaction, \r\n\t\t\t");

        
        #line default
        #line hidden
        
        #line 445 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(functionParmsString));

        
        #line default
        #line hidden
        
        #line 445 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(")\r\n\t\t{\r\n\t\t\treturn ");

        
        #line default
        #line hidden
        
        #line 447 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(functionName));

        
        #line default
        #line hidden
        
        #line 447 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write("( sqlConnection, sqlTransaction, \"");

        
        #line default
        #line hidden
        
        #line 447 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(connectionKey));

        
        #line default
        #line hidden
        
        #line 447 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write("\", ");

        
        #line default
        #line hidden
        
        #line 447 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(functionString));

        
        #line default
        #line hidden
        
        #line 447 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(" );\r\n\t\t}\r\n\t\t\r\n\t\t/// <summary>\r\n\t\t/// Delete values from ");

        
        #line default
        #line hidden
        
        #line 451 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(objectSchema));

        
        #line default
        #line hidden
        
        #line 451 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(".");

        
        #line default
        #line hidden
        
        #line 451 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(objectName));

        
        #line default
        #line hidden
        
        #line 451 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(@" by primary key(s).
		/// </summary>
		/// <param name=""sqlConnection"">Sql connection or null.</param>
		/// <param name=""sqlTransaction"">Sql transaction or null.</param>
		/// <param name=""connectionKeyName"">Connection key name located in config file.</param>");

        
        #line default
        #line hidden
        
        #line 455 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(docString));

        
        #line default
        #line hidden
        
        #line 455 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write("\r\n\t\t/// <returns>true if successful otherwise false.</returns>\r\n\t\tpublic bool ");

        
        #line default
        #line hidden
        
        #line 457 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(functionName));

        
        #line default
        #line hidden
        
        #line 457 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write("(\r\n\t\t\tSqlConnection sqlConnection, \r\n\t\t\tSqlTransaction sqlTransaction, \r\n\t\t\tstrin" +
        "g connectionKeyName,\r\n\t\t\t");

        
        #line default
        #line hidden
        
        #line 461 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(functionParmsString));

        
        #line default
        #line hidden
        
        #line 461 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(@")
		{
			SqlConnection connection = CustomSqlHelper.CreateConnection(CustomSqlHelper.GetConnectionStringFromConnectionStrings(connectionKeyName), sqlConnection);
			SqlTransaction transaction = sqlTransaction;
			
			using (SqlCommand command = CustomSqlHelper.CreateCommand(""");

        
        #line default
        #line hidden
        
        #line 466 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(functionName));

        
        #line default
        #line hidden
        
        #line 466 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write("\", connection, transaction, \r\n\t\t\t\t");

        
        #line default
        #line hidden
        
        #line 467 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(commandParmsString));

        
        #line default
        #line hidden
        
        #line 467 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(@"))
			{
				int returnCode = CustomSqlHelper.ExecuteNonQuery(command, ""ReturnCode"");
				
				if (transaction == null)
				{
					CustomSqlHelper.CloseConnection(connection);
				}
				
				if (returnCode == 0)
				{
					return true;
				}
				else
				{
					return false;
				}
			}
		}
		
		#endregion ===== DELETE =====

");

        
        #line default
        #line hidden
        
        #line 489 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"

		return valueParmsString;
	}

        
        #line default
        #line hidden
        
        #line 494 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"

	private string renderDalUpdate(List<DBColumn> columns, string objectSchema, string objectName, string functionName, string connectionKey)
	{
		StringBuilder commandParmsSb = new StringBuilder();
		StringBuilder functionParmsSb = new StringBuilder();
		StringBuilder functionSb = new StringBuilder();
		StringBuilder docSb = new StringBuilder();
		StringBuilder valueParmsSb = new StringBuilder();
		
		int x = 0;
		foreach (DBColumn column in columns)
		{
			if (!DataAccess.isModifiedDate(column) &&
				!DataAccess.isCreatedDate(column) &&
				!DataAccess.isAuthorityId(column) &&
				!DataAccess.isCreationUserId(column)	)
			{
				string size = "null";
				if (column.CharacterMaxLength > 0) size = column.CharacterMaxLength.ToString();
	
				if (x > 0)
				{
					commandParmsSb.AppendFormat(",\r\n\t\t\t\t\t");
					functionParmsSb.AppendFormat(",\r\n\t\t\t");
					functionSb.Append( ", " );
					valueParmsSb.AppendFormat(",\r\n\t\t\t\t");
				}
	
				commandParmsSb.AppendFormat("CustomSqlHelper.CreateInputParameter(\"{0}\", {1}, {2}, {3}, {4})", 
					column.Name, column.DataProviderType, size, 
					column.IsNullable.ToString().ToLower(), column.ParamName());
					
				docSb.AppendFormat("\r\n\t\t/// <param name=\"{0}\"></param>", column.ParamName());
				functionParmsSb.AppendFormat("{0} {1}", column.Type(), column.ParamName());
				functionSb.Append(column.ParamName());
				valueParmsSb.AppendFormat("value.{0}", column.Alias);
	
				x++;
			}
		}
		
		commandParmsSb.AppendFormat(", \r\n\t\t\t\t\tCustomSqlHelper.CreateReturnValueParameter(\"ReturnCode\", SqlDbType.Int, null, false)");
		
		string commandParmsString = commandParmsSb.ToString();
		string functionParmsString = functionParmsSb.ToString();
		string functionString = functionSb.ToString();
		string docString = docSb.ToString();
		string valueParmsString = valueParmsSb.ToString();
		
		commandParmsSb = null;
		functionParmsSb = null;
		functionSb = null;
		docSb = null;
		valueParmsSb = null;
		

        
        #line default
        #line hidden
        
        #line 549 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(" \t\t#region ===== UPDATE =====\r\n\r\n\t\t/// <summary>\r\n\t\t/// Update values in ");

        
        #line default
        #line hidden
        
        #line 552 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(objectSchema));

        
        #line default
        #line hidden
        
        #line 552 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(".");

        
        #line default
        #line hidden
        
        #line 552 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(objectName));

        
        #line default
        #line hidden
        
        #line 552 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(". Returns an object of type ");

        
        #line default
        #line hidden
        
        #line 552 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(objectName));

        
        #line default
        #line hidden
        
        #line 552 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(".\r\n\t\t/// </summary>\r\n\t\t/// <param name=\"sqlConnection\">Sql connection or null.</p" +
        "aram>\r\n\t\t/// <param name=\"sqlTransaction\">Sql transaction or null.</param>");

        
        #line default
        #line hidden
        
        #line 555 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(docString));

        
        #line default
        #line hidden
        
        #line 555 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write("\r\n\t\t/// <returns>Object of type ");

        
        #line default
        #line hidden
        
        #line 556 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(objectName));

        
        #line default
        #line hidden
        
        #line 556 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(".</returns>\r\n\t\tpublic ");

        
        #line default
        #line hidden
        
        #line 557 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(objectName));

        
        #line default
        #line hidden
        
        #line 557 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(" ");

        
        #line default
        #line hidden
        
        #line 557 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(functionName));

        
        #line default
        #line hidden
        
        #line 557 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write("(\r\n\t\t\tSqlConnection sqlConnection, \r\n\t\t\tSqlTransaction sqlTransaction, \r\n\t\t\t");

        
        #line default
        #line hidden
        
        #line 560 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(functionParmsString));

        
        #line default
        #line hidden
        
        #line 560 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(")\r\n\t\t{\r\n\t\t\treturn ");

        
        #line default
        #line hidden
        
        #line 562 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(functionName));

        
        #line default
        #line hidden
        
        #line 562 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write("( sqlConnection, sqlTransaction, \"");

        
        #line default
        #line hidden
        
        #line 562 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(connectionKey));

        
        #line default
        #line hidden
        
        #line 562 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write("\", ");

        
        #line default
        #line hidden
        
        #line 562 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(functionString));

        
        #line default
        #line hidden
        
        #line 562 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(");\r\n\t\t}\r\n\t\t\r\n\t\t/// <summary>\r\n\t\t/// Update values in ");

        
        #line default
        #line hidden
        
        #line 566 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(objectSchema));

        
        #line default
        #line hidden
        
        #line 566 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(".");

        
        #line default
        #line hidden
        
        #line 566 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(objectName));

        
        #line default
        #line hidden
        
        #line 566 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(". Returns an object of type ");

        
        #line default
        #line hidden
        
        #line 566 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(objectName));

        
        #line default
        #line hidden
        
        #line 566 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(".\r\n\t\t/// </summary>\r\n\t\t/// <param name=\"sqlConnection\">Sql connection or null.</p" +
        "aram>\r\n\t\t/// <param name=\"sqlTransaction\">Sql transaction or null.</param>\r\n\t\t//" +
        "/ <param name=\"connectionKeyName\">Connection key name located in config file.</p" +
        "aram>");

        
        #line default
        #line hidden
        
        #line 570 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(docString));

        
        #line default
        #line hidden
        
        #line 570 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write("\r\n\t\t/// <returns>Object of type ");

        
        #line default
        #line hidden
        
        #line 571 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(objectName));

        
        #line default
        #line hidden
        
        #line 571 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(".</returns>\r\n\t\tpublic ");

        
        #line default
        #line hidden
        
        #line 572 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(objectName));

        
        #line default
        #line hidden
        
        #line 572 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(" ");

        
        #line default
        #line hidden
        
        #line 572 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(functionName));

        
        #line default
        #line hidden
        
        #line 572 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write("(\r\n\t\t\tSqlConnection sqlConnection, \r\n\t\t\tSqlTransaction sqlTransaction, \r\n\t\t\tstrin" +
        "g connectionKeyName,\r\n\t\t\t");

        
        #line default
        #line hidden
        
        #line 576 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(functionParmsString));

        
        #line default
        #line hidden
        
        #line 576 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(@")
		{
			SqlConnection connection = CustomSqlHelper.CreateConnection(CustomSqlHelper.GetConnectionStringFromConnectionStrings(connectionKeyName), sqlConnection);
			SqlTransaction transaction = sqlTransaction;
			
			using (SqlCommand command = CustomSqlHelper.CreateCommand(""");

        
        #line default
        #line hidden
        
        #line 581 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(functionName));

        
        #line default
        #line hidden
        
        #line 581 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write("\", connection, transaction, \r\n\t\t\t\t");

        
        #line default
        #line hidden
        
        #line 582 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(commandParmsString));

        
        #line default
        #line hidden
        
        #line 582 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write("))\r\n\t\t\t{\r\n\t\t\t\tusing (CustomSqlHelper<");

        
        #line default
        #line hidden
        
        #line 584 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(objectName));

        
        #line default
        #line hidden
        
        #line 584 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write("> helper = new CustomSqlHelper<");

        
        #line default
        #line hidden
        
        #line 584 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(objectName));

        
        #line default
        #line hidden
        
        #line 584 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(">())\r\n\t\t\t\t{\r\n\t\t\t\t\tCustomGenericList<");

        
        #line default
        #line hidden
        
        #line 586 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(objectName));

        
        #line default
        #line hidden
        
        #line 586 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write("> list = helper.ExecuteReader(command);\r\n\t\t\t\t\tif (list.Count > 0)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t" +
        "");

        
        #line default
        #line hidden
        
        #line 589 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(objectName));

        
        #line default
        #line hidden
        
        #line 589 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(" o = list[0];\r\n\t\t\t\t\t\tlist = null;\r\n\t\t\t\t\t\treturn o;\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse\r\n\t\t\t\t\t{\r\n\t\t" +
        "\t\t\t\treturn null;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\t/// <summary>\r\n\t\t/// Update va" +
        "lues in ");

        
        #line default
        #line hidden
        
        #line 602 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(objectSchema));

        
        #line default
        #line hidden
        
        #line 602 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(".");

        
        #line default
        #line hidden
        
        #line 602 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(objectName));

        
        #line default
        #line hidden
        
        #line 602 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(". Returns an object of type ");

        
        #line default
        #line hidden
        
        #line 602 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(objectName));

        
        #line default
        #line hidden
        
        #line 602 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(".\r\n\t\t/// </summary>\r\n\t\t/// <param name=\"sqlConnection\">Sql connection or null.</p" +
        "aram>\r\n\t\t/// <param name=\"sqlTransaction\">Sql transaction or null.</param>\r\n\t\t//" +
        "/ <param name=\"value\">Object of type ");

        
        #line default
        #line hidden
        
        #line 606 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(objectName));

        
        #line default
        #line hidden
        
        #line 606 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(".</param>\r\n\t\t/// <returns>Object of type ");

        
        #line default
        #line hidden
        
        #line 607 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(objectName));

        
        #line default
        #line hidden
        
        #line 607 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(".</returns>\r\n\t\tpublic ");

        
        #line default
        #line hidden
        
        #line 608 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(objectName));

        
        #line default
        #line hidden
        
        #line 608 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(" ");

        
        #line default
        #line hidden
        
        #line 608 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(functionName));

        
        #line default
        #line hidden
        
        #line 608 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write("(\r\n\t\t\tSqlConnection sqlConnection, \r\n\t\t\tSqlTransaction sqlTransaction, \r\n\t\t\t");

        
        #line default
        #line hidden
        
        #line 611 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(objectName));

        
        #line default
        #line hidden
        
        #line 611 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(" value)\r\n\t\t{\r\n\t\t\treturn ");

        
        #line default
        #line hidden
        
        #line 613 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(functionName));

        
        #line default
        #line hidden
        
        #line 613 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write("(sqlConnection, sqlTransaction, \"");

        
        #line default
        #line hidden
        
        #line 613 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(connectionKey));

        
        #line default
        #line hidden
        
        #line 613 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write("\", value );\r\n\t\t}\r\n\t\t\r\n\t\t/// <summary>\r\n\t\t/// Update values in ");

        
        #line default
        #line hidden
        
        #line 617 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(objectSchema));

        
        #line default
        #line hidden
        
        #line 617 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(".");

        
        #line default
        #line hidden
        
        #line 617 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(objectName));

        
        #line default
        #line hidden
        
        #line 617 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(". Returns an object of type ");

        
        #line default
        #line hidden
        
        #line 617 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(objectName));

        
        #line default
        #line hidden
        
        #line 617 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(@".
		/// </summary>
		/// <param name=""sqlConnection"">Sql connection or null.</param>
		/// <param name=""sqlTransaction"">Sql transaction or null.</param>
		/// <param name=""connectionKeyName"">Connection key name located in config file.</param>
		/// <param name=""value"">Object of type ");

        
        #line default
        #line hidden
        
        #line 622 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(objectName));

        
        #line default
        #line hidden
        
        #line 622 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(".</param>\r\n\t\t/// <returns>Object of type ");

        
        #line default
        #line hidden
        
        #line 623 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(objectName));

        
        #line default
        #line hidden
        
        #line 623 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(".</returns>\r\n\t\tpublic ");

        
        #line default
        #line hidden
        
        #line 624 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(objectName));

        
        #line default
        #line hidden
        
        #line 624 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(" ");

        
        #line default
        #line hidden
        
        #line 624 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(functionName));

        
        #line default
        #line hidden
        
        #line 624 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write("(\r\n\t\t\tSqlConnection sqlConnection, \r\n\t\t\tSqlTransaction sqlTransaction, \r\n\t\t\tstrin" +
        "g connectionKeyName,\r\n\t\t\t");

        
        #line default
        #line hidden
        
        #line 628 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(objectName));

        
        #line default
        #line hidden
        
        #line 628 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(" value)\r\n\t\t{\r\n\t\t\treturn ");

        
        #line default
        #line hidden
        
        #line 630 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(functionName));

        
        #line default
        #line hidden
        
        #line 630 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write("(sqlConnection, sqlTransaction, connectionKeyName,\r\n\t\t\t\t");

        
        #line default
        #line hidden
        
        #line 631 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(valueParmsString));

        
        #line default
        #line hidden
        
        #line 631 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(");\r\n\t\t}\r\n\t\t\r\n\t\t#endregion ===== UPDATE =====\r\n\r\n");

        
        #line default
        #line hidden
        
        #line 636 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"

		return valueParmsString;
	}

        
        #line default
        #line hidden
        
        #line 641 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"

	private void renderCsDalManage(string objectSchema, string objectName, 
		string functionName, string insertFunctionName, 
		string insertParmsString, string deleteFunctionName, 
		string deleteParmsString, string updateFunctionName, 
		string updateParmsString, string connectionKey)
	{
		string insertParms = insertParmsString.Replace("\r\n", "\r\n\t\t");
		string deleteParms = deleteParmsString.Replace("\r\n", "\r\n\t\t");
		string updateParms = updateParmsString.Replace("\r\n", "\r\n\t\t");
		

        
        #line default
        #line hidden
        
        #line 652 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write("\t\t#region ===== MANAGE =====\r\n\t\t\r\n\t\t/// <summary>\r\n\t\t/// Manage ");

        
        #line default
        #line hidden
        
        #line 655 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(objectSchema));

        
        #line default
        #line hidden
        
        #line 655 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(".");

        
        #line default
        #line hidden
        
        #line 655 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(objectName));

        
        #line default
        #line hidden
        
        #line 655 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(" object.\r\n\t\t/// If the object is of type CustomObjectBase, \r\n\t\t/// then either in" +
        "sert values into, delete values from, or update values in ");

        
        #line default
        #line hidden
        
        #line 657 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(objectSchema));

        
        #line default
        #line hidden
        
        #line 657 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(".");

        
        #line default
        #line hidden
        
        #line 657 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(objectName));

        
        #line default
        #line hidden
        
        #line 657 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(".\r\n\t\t/// </summary>\r\n\t\t/// <param name=\"sqlConnection\">Sql connection or null.</p" +
        "aram>\r\n\t\t/// <param name=\"sqlTransaction\">Sql transaction or null.</param>\r\n\t\t//" +
        "/ <param name=\"value\">Object of type ");

        
        #line default
        #line hidden
        
        #line 661 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(objectName));

        
        #line default
        #line hidden
        
        #line 661 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(".</param>\r\n\t\t/// <returns>Object of type CustomDataAccessStatus<");

        
        #line default
        #line hidden
        
        #line 662 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(objectName));

        
        #line default
        #line hidden
        
        #line 662 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(">.</returns>\r\n\t\tpublic CustomDataAccessStatus<");

        
        #line default
        #line hidden
        
        #line 663 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(objectName));

        
        #line default
        #line hidden
        
        #line 663 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write("> ");

        
        #line default
        #line hidden
        
        #line 663 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(functionName));

        
        #line default
        #line hidden
        
        #line 663 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write("(\r\n\t\t\tSqlConnection sqlConnection, \r\n\t\t\tSqlTransaction sqlTransaction, \r\n\t\t\t");

        
        #line default
        #line hidden
        
        #line 666 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(objectName));

        
        #line default
        #line hidden
        
        #line 666 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(" value ");

        
        #line default
        #line hidden
        
        #line 666 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(printUserId( insertParms )));

        
        #line default
        #line hidden
        
        #line 666 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(" )\r\n\t\t{\r\n\t\t\treturn ");

        
        #line default
        #line hidden
        
        #line 668 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(functionName));

        
        #line default
        #line hidden
        
        #line 668 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write("( sqlConnection, sqlTransaction, \"");

        
        #line default
        #line hidden
        
        #line 668 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(connectionKey));

        
        #line default
        #line hidden
        
        #line 668 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write("\", value ");

        
        #line default
        #line hidden
        
        #line 668 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(getUserId( insertParms )));

        
        #line default
        #line hidden
        
        #line 668 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(" );\r\n\t\t}\r\n\t\t\r\n\t\t/// <summary>\r\n\t\t/// Manage ");

        
        #line default
        #line hidden
        
        #line 672 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(objectSchema));

        
        #line default
        #line hidden
        
        #line 672 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(".");

        
        #line default
        #line hidden
        
        #line 672 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(objectName));

        
        #line default
        #line hidden
        
        #line 672 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(" object.\r\n\t\t/// If the object is of type CustomObjectBase, \r\n\t\t/// then either in" +
        "sert values into, delete values from, or update values in ");

        
        #line default
        #line hidden
        
        #line 674 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(objectSchema));

        
        #line default
        #line hidden
        
        #line 674 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(".");

        
        #line default
        #line hidden
        
        #line 674 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(objectName));

        
        #line default
        #line hidden
        
        #line 674 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(@".
		/// </summary>
		/// <param name=""sqlConnection"">Sql connection or null.</param>
		/// <param name=""sqlTransaction"">Sql transaction or null.</param>
		/// <param name=""connectionKeyName"">Connection key name located in config file.</param>
		/// <param name=""value"">Object of type ");

        
        #line default
        #line hidden
        
        #line 679 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(objectName));

        
        #line default
        #line hidden
        
        #line 679 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(".</param>\r\n\t\t/// <returns>Object of type CustomDataAccessStatus<");

        
        #line default
        #line hidden
        
        #line 680 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(objectName));

        
        #line default
        #line hidden
        
        #line 680 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(">.</returns>\r\n\t\tpublic CustomDataAccessStatus<");

        
        #line default
        #line hidden
        
        #line 681 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(objectName));

        
        #line default
        #line hidden
        
        #line 681 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write("> ");

        
        #line default
        #line hidden
        
        #line 681 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(functionName));

        
        #line default
        #line hidden
        
        #line 681 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write("(\r\n\t\t\tSqlConnection sqlConnection, \r\n\t\t\tSqlTransaction sqlTransaction, \r\n\t\t\tstrin" +
        "g connectionKeyName,\r\n\t\t\t");

        
        #line default
        #line hidden
        
        #line 685 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(objectName));

        
        #line default
        #line hidden
        
        #line 685 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(" value ");

        
        #line default
        #line hidden
        
        #line 685 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(printUserId( insertParms )));

        
        #line default
        #line hidden
        
        #line 685 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(" )\r\n\t\t{\r\n\t\t\tif (value.IsNew && !value.IsDeleted)\r\n\t\t\t{\r\n\t\t\t\t");

        
        #line default
        #line hidden
        
        #line 689 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(printCreationUserID( insertParms )));

        
        #line default
        #line hidden
        
        #line 689 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write("\r\n\t\t\t\t");

        
        #line default
        #line hidden
        
        #line 690 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(printLastModifiedUserID( insertParms )));

        
        #line default
        #line hidden
        
        #line 690 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write("\r\n\t\t\t\t");

        
        #line default
        #line hidden
        
        #line 691 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(objectName));

        
        #line default
        #line hidden
        
        #line 691 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(" returnValue = ");

        
        #line default
        #line hidden
        
        #line 691 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(insertFunctionName));

        
        #line default
        #line hidden
        
        #line 691 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write("(sqlConnection, sqlTransaction, connectionKeyName,\r\n\t\t\t\t\t");

        
        #line default
        #line hidden
        
        #line 692 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(insertParms));

        
        #line default
        #line hidden
        
        #line 692 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(");\r\n\t\t\t\t\r\n\t\t\t\treturn new CustomDataAccessStatus<");

        
        #line default
        #line hidden
        
        #line 694 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(objectName));

        
        #line default
        #line hidden
        
        #line 694 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(">(\r\n\t\t\t\t\tCustomDataAccessContext.Insert, \r\n\t\t\t\t\ttrue, returnValue);\r\n\t\t\t}\r\n\t\t\tels" +
        "e if (!value.IsNew && value.IsDeleted)\r\n\t\t\t{\r\n\t\t\t\tif (");

        
        #line default
        #line hidden
        
        #line 700 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(deleteFunctionName));

        
        #line default
        #line hidden
        
        #line 700 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write("(sqlConnection, sqlTransaction, connectionKeyName,\r\n\t\t\t\t\t");

        
        #line default
        #line hidden
        
        #line 701 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(deleteParms));

        
        #line default
        #line hidden
        
        #line 701 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write("))\r\n\t\t\t\t{\r\n\t\t\t\treturn new CustomDataAccessStatus<");

        
        #line default
        #line hidden
        
        #line 703 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(objectName));

        
        #line default
        #line hidden
        
        #line 703 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(">(\r\n\t\t\t\t\tCustomDataAccessContext.Delete, \r\n\t\t\t\t\ttrue, value);\r\n\t\t\t\t}\r\n\t\t\t\telse\r\n\t" +
        "\t\t\t{\r\n\t\t\t\treturn new CustomDataAccessStatus<");

        
        #line default
        #line hidden
        
        #line 709 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(objectName));

        
        #line default
        #line hidden
        
        #line 709 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(">(\r\n\t\t\t\t\tCustomDataAccessContext.Delete, \r\n\t\t\t\t\tfalse, value);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\te" +
        "lse if (value.IsDirty && !value.IsDeleted)\r\n\t\t\t{\r\n\t\t\t\t");

        
        #line default
        #line hidden
        
        #line 716 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(printLastModifiedUserID( insertParms )));

        
        #line default
        #line hidden
        
        #line 716 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write("\r\n\t\t\t\t");

        
        #line default
        #line hidden
        
        #line 717 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(objectName));

        
        #line default
        #line hidden
        
        #line 717 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(" returnValue = ");

        
        #line default
        #line hidden
        
        #line 717 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(updateFunctionName));

        
        #line default
        #line hidden
        
        #line 717 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write("(sqlConnection, sqlTransaction, connectionKeyName,\r\n\t\t\t\t\t");

        
        #line default
        #line hidden
        
        #line 718 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(updateParms));

        
        #line default
        #line hidden
        
        #line 718 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(");\r\n\t\t\t\t\t\r\n\t\t\t\treturn new CustomDataAccessStatus<");

        
        #line default
        #line hidden
        
        #line 720 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(objectName));

        
        #line default
        #line hidden
        
        #line 720 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(">(\r\n\t\t\t\t\tCustomDataAccessContext.Update, \r\n\t\t\t\t\ttrue, returnValue);\r\n\t\t\t}\r\n\t\t\tels" +
        "e\r\n\t\t\t{\r\n\t\t\t\treturn new CustomDataAccessStatus<");

        
        #line default
        #line hidden
        
        #line 726 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(objectName));

        
        #line default
        #line hidden
        
        #line 726 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"
this.Write(">(\r\n\t\t\t\t\tCustomDataAccessContext.NA, \r\n\t\t\t\t\tfalse, value);\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\t#end" +
        "region ===== MANAGE =====\r\n\r\n");

        
        #line default
        #line hidden
        
        #line 734 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"

	}

        
        #line default
        #line hidden
        
        #line 738 "C:\Users\mikel\Dropbox\MWLShare\DALCodeGen\DALCodeGen\sql\DAL.tt"

	private string printUserId( string values )
	{
		if ( values.IndexOf( "CreationUserID" ) > 0 || values.IndexOf( "LastModifiedUserID" ) > 0 )
		{
			return ", int userId";
		}
		else
		{
			return "";
		}
	}
	
	private string getUserId( string values )
	{
		if ( values.IndexOf( "CreationUserID" ) > 0 || values.IndexOf( "LastModifiedUserID" ) > 0 )
		{
			return ", userId";
		}
		else
		{
			return "";
		}
	}
	
	private string printCreationUserID( string values )
	{
		if ( values.IndexOf( "CreationUserID" ) > 0 )
		{
			return "value.CreationUserID = userId;";
		}
		else
		{
			return "";
		}
	}
	
	private string printLastModifiedUserID( string values )
	{
		if ( values.IndexOf( "LastModifiedUserID" ) > 0 )
		{
			return "value.LastModifiedUserID = userId;";
		}
		else
		{
			return "";
		}
	}

        
        #line default
        #line hidden
    }
    
    #line default
    #line hidden
    #region Base class
    /// <summary>
    /// Base class for this transformation
    /// </summary>
    [global::System.CodeDom.Compiler.GeneratedCodeAttribute("Microsoft.VisualStudio.TextTemplating", "14.0.0.0")]
    public class DALBase
    {
        #region Fields
        private global::System.Text.StringBuilder generationEnvironmentField;
        private global::System.CodeDom.Compiler.CompilerErrorCollection errorsField;
        private global::System.Collections.Generic.List<int> indentLengthsField;
        private string currentIndentField = "";
        private bool endsWithNewline;
        private global::System.Collections.Generic.IDictionary<string, object> sessionField;
        #endregion
        #region Properties
        /// <summary>
        /// The string builder that generation-time code is using to assemble generated output
        /// </summary>
        protected System.Text.StringBuilder GenerationEnvironment
        {
            get
            {
                if ((this.generationEnvironmentField == null))
                {
                    this.generationEnvironmentField = new global::System.Text.StringBuilder();
                }
                return this.generationEnvironmentField;
            }
            set
            {
                this.generationEnvironmentField = value;
            }
        }
        /// <summary>
        /// The error collection for the generation process
        /// </summary>
        public System.CodeDom.Compiler.CompilerErrorCollection Errors
        {
            get
            {
                if ((this.errorsField == null))
                {
                    this.errorsField = new global::System.CodeDom.Compiler.CompilerErrorCollection();
                }
                return this.errorsField;
            }
        }
        /// <summary>
        /// A list of the lengths of each indent that was added with PushIndent
        /// </summary>
        private System.Collections.Generic.List<int> indentLengths
        {
            get
            {
                if ((this.indentLengthsField == null))
                {
                    this.indentLengthsField = new global::System.Collections.Generic.List<int>();
                }
                return this.indentLengthsField;
            }
        }
        /// <summary>
        /// Gets the current indent we use when adding lines to the output
        /// </summary>
        public string CurrentIndent
        {
            get
            {
                return this.currentIndentField;
            }
        }
        /// <summary>
        /// Current transformation session
        /// </summary>
        public virtual global::System.Collections.Generic.IDictionary<string, object> Session
        {
            get
            {
                return this.sessionField;
            }
            set
            {
                this.sessionField = value;
            }
        }
        #endregion
        #region Transform-time helpers
        /// <summary>
        /// Write text directly into the generated output
        /// </summary>
        public void Write(string textToAppend)
        {
            if (string.IsNullOrEmpty(textToAppend))
            {
                return;
            }
            // If we're starting off, or if the previous text ended with a newline,
            // we have to append the current indent first.
            if (((this.GenerationEnvironment.Length == 0) 
                        || this.endsWithNewline))
            {
                this.GenerationEnvironment.Append(this.currentIndentField);
                this.endsWithNewline = false;
            }
            // Check if the current text ends with a newline
            if (textToAppend.EndsWith(global::System.Environment.NewLine, global::System.StringComparison.CurrentCulture))
            {
                this.endsWithNewline = true;
            }
            // This is an optimization. If the current indent is "", then we don't have to do any
            // of the more complex stuff further down.
            if ((this.currentIndentField.Length == 0))
            {
                this.GenerationEnvironment.Append(textToAppend);
                return;
            }
            // Everywhere there is a newline in the text, add an indent after it
            textToAppend = textToAppend.Replace(global::System.Environment.NewLine, (global::System.Environment.NewLine + this.currentIndentField));
            // If the text ends with a newline, then we should strip off the indent added at the very end
            // because the appropriate indent will be added when the next time Write() is called
            if (this.endsWithNewline)
            {
                this.GenerationEnvironment.Append(textToAppend, 0, (textToAppend.Length - this.currentIndentField.Length));
            }
            else
            {
                this.GenerationEnvironment.Append(textToAppend);
            }
        }
        /// <summary>
        /// Write text directly into the generated output
        /// </summary>
        public void WriteLine(string textToAppend)
        {
            this.Write(textToAppend);
            this.GenerationEnvironment.AppendLine();
            this.endsWithNewline = true;
        }
        /// <summary>
        /// Write formatted text directly into the generated output
        /// </summary>
        public void Write(string format, params object[] args)
        {
            this.Write(string.Format(global::System.Globalization.CultureInfo.CurrentCulture, format, args));
        }
        /// <summary>
        /// Write formatted text directly into the generated output
        /// </summary>
        public void WriteLine(string format, params object[] args)
        {
            this.WriteLine(string.Format(global::System.Globalization.CultureInfo.CurrentCulture, format, args));
        }
        /// <summary>
        /// Raise an error
        /// </summary>
        public void Error(string message)
        {
            System.CodeDom.Compiler.CompilerError error = new global::System.CodeDom.Compiler.CompilerError();
            error.ErrorText = message;
            this.Errors.Add(error);
        }
        /// <summary>
        /// Raise a warning
        /// </summary>
        public void Warning(string message)
        {
            System.CodeDom.Compiler.CompilerError error = new global::System.CodeDom.Compiler.CompilerError();
            error.ErrorText = message;
            error.IsWarning = true;
            this.Errors.Add(error);
        }
        /// <summary>
        /// Increase the indent
        /// </summary>
        public void PushIndent(string indent)
        {
            if ((indent == null))
            {
                throw new global::System.ArgumentNullException("indent");
            }
            this.currentIndentField = (this.currentIndentField + indent);
            this.indentLengths.Add(indent.Length);
        }
        /// <summary>
        /// Remove the last indent that was added with PushIndent
        /// </summary>
        public string PopIndent()
        {
            string returnValue = "";
            if ((this.indentLengths.Count > 0))
            {
                int indentLength = this.indentLengths[(this.indentLengths.Count - 1)];
                this.indentLengths.RemoveAt((this.indentLengths.Count - 1));
                if ((indentLength > 0))
                {
                    returnValue = this.currentIndentField.Substring((this.currentIndentField.Length - indentLength));
                    this.currentIndentField = this.currentIndentField.Remove((this.currentIndentField.Length - indentLength));
                }
            }
            return returnValue;
        }
        /// <summary>
        /// Remove any indentation
        /// </summary>
        public void ClearIndent()
        {
            this.indentLengths.Clear();
            this.currentIndentField = "";
        }
        #endregion
        #region ToString Helpers
        /// <summary>
        /// Utility class to produce culture-oriented representation of an object as a string.
        /// </summary>
        public class ToStringInstanceHelper
        {
            private System.IFormatProvider formatProviderField  = global::System.Globalization.CultureInfo.InvariantCulture;
            /// <summary>
            /// Gets or sets format provider to be used by ToStringWithCulture method.
            /// </summary>
            public System.IFormatProvider FormatProvider
            {
                get
                {
                    return this.formatProviderField ;
                }
                set
                {
                    if ((value != null))
                    {
                        this.formatProviderField  = value;
                    }
                }
            }
            /// <summary>
            /// This is called from the compile/run appdomain to convert objects within an expression block to a string
            /// </summary>
            public string ToStringWithCulture(object objectToConvert)
            {
                if ((objectToConvert == null))
                {
                    throw new global::System.ArgumentNullException("objectToConvert");
                }
                System.Type t = objectToConvert.GetType();
                System.Reflection.MethodInfo method = t.GetMethod("ToString", new System.Type[] {
                            typeof(System.IFormatProvider)});
                if ((method == null))
                {
                    return objectToConvert.ToString();
                }
                else
                {
                    return ((string)(method.Invoke(objectToConvert, new object[] {
                                this.formatProviderField })));
                }
            }
        }
        private ToStringInstanceHelper toStringHelperField = new ToStringInstanceHelper();
        /// <summary>
        /// Helper to produce culture-oriented representation of an object as a string
        /// </summary>
        public ToStringInstanceHelper ToStringHelper
        {
            get
            {
                return this.toStringHelperField;
            }
        }
        #endregion
    }
    #endregion
}
